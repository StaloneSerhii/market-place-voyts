"use strict";(self.webpackChunkmarket_place_voyts=self.webpackChunkmarket_place_voyts||[]).push([[213],{4213:function(e,l,i){i.r(l);var n=i(1413),r=i(9439),t=i(9434),s=i(5705),o=i(2791),a=i(7689),d=i(1087),c=i(8007),u=i(9940),x=i(2561),h=i(6055),p=i(1347),m=i(6307),g=i(7425),f=i(7472),j=i(2382),y=i(590),v=i(184),b=c.Ry().shape({name:c.Z_().min(2,"Too Short name!").max(35,"Too Long name!").required("Name is required"),fename:c.Z_().min(2,"Too Short name!").max(35,"Too Long name!").required("Name is required"),email:c.Z_().email("Invalid email").required("Email is required"),phone:c.Z_().min(14,"Too Short name!").max(14,"Too Long name!").notRequired(),city:c.Z_().required().min(3,"Too Short name!"),viddill:c.Z_().required(),oplata:c.Z_().required()}),C=[{label:"\u0422\u0435\u0440\u043d\u043e\u043f\u0456\u043b\u044c",id:1},{label:"\u041b\u044c\u0432\u0456\u0432",id:2}];l.default=function(){var e=(0,t.I0)(),l=(0,a.s0)(),i=(0,o.useState)(),c=(0,r.Z)(i,2),_=c[0],Z=c[1],I=(0,o.useState)(0),B=(0,r.Z)(I,2),q=B[0],w=B[1],L=(0,t.v9)(p.v0),S=(0,t.v9)(u.Py),k=(0,t.v9)(u.pC),F=(0,t.v9)(u.qA);(0,o.useEffect)((function(){if(_){var e=_.reduce((function(e,l){return e+l.price*l.count}),0);w(e)}}),[_]);(0,o.useEffect)((function(){return k.length>0?Z(k):L.isLoggedIn?void Z([]):Z(F)}),[k,F,L.isLoggedIn]);var D={name:L.isLoggedIn?L.user.name:"",fename:L.isLoggedIn?L.user.fename:"",email:L.isLoggedIn?L.user.email:"",phone:L.isLoggedIn?L.user.phone:"",comments:"\u0414\u043e\u0431\u0440\u0433\u043e \u0434\u043d\u044f. \u042f \u0431 \u0445\u043e\u0442\u0456\u0432...",city:L.isLoggedIn?L.user.city:"",viddill:"",oplata:""},N=(0,s.TA)({initialValues:D,validationSchema:b,onSubmit:function(i){window.confirm("\u0412\u0438 \u043f\u0456\u0434\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0443\u0454\u0442\u0435 \u0441\u0432\u043e\u044e \u043f\u043e\u043a\u0443\u043f\u043a\u0443?")&&L.isLoggedIn?(e((0,x.bJ)({values:i,select:k})),l("/profile/settings"),e((0,h.zg)())):(0,f.Wk)({values:i,select:F}).then((function(i){201===i.status&&(l("/"),e((0,h.zg)()))}))}}),T=function(e){var l=e.target,i=l.name,n=l.value;N.setFieldValue(i,n)};return(0,v.jsx)("div",{children:void 0!==_&&_&&_.length>0?(0,v.jsxs)("form",{onSubmit:N.handleSubmit,style:{display:"flex",justifyContent:"center",flexWrap:"wrap"},children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{style:{textAlign:"start",fontSize:"16px",fontWeight:"500"},children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0456 \u0434\u0430\u043d\u0456"}),(0,v.jsxs)("div",{className:"formData",children:[(0,v.jsxs)("div",{className:"formData--label",children:[(0,v.jsxs)("label",{htmlFor:"name",children:["\u0406\u043c'\u044f ",(0,v.jsx)("br",{}),(0,v.jsx)("input",{required:!0,type:"text",name:"name",id:"name",placeholder:"\u0406\u043c\u044f",onBlur:N.handleBlur,value:N.values.name,onChange:T,style:N.touched.name&&N.errors.name?{border:"1px solid red"}:{border:"1px solid #009C2C"}})]}),(0,v.jsxs)("label",{htmlFor:"fename",children:["\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435 ",(0,v.jsx)("br",{}),(0,v.jsx)("input",{required:!0,type:"text",name:"fename",id:"fename",placeholder:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435",onBlur:N.handleBlur,value:N.values.fename,onChange:T,style:N.touched.fename&&N.errors.fename?{border:"1px solid red"}:{border:"1px solid #009C2C"}})]}),(0,v.jsxs)("label",{htmlFor:"phone",children:["\u0422\u0435\u043b\u0435\u0444\u043e\u043d ",(0,v.jsx)("br",{}),(0,v.jsx)("input",{required:!0,id:"phone",type:"tel",name:"phone",placeholder:"38-000-000-00-00",onBlur:N.handleBlur,value:N.values.phone,onChange:function(e){var l=e.target.value;(l=l.replace(/\D/g,"")).length>3&&l.length<=6?l=l.slice(0,3)+" "+l.slice(3):l.length>6&&(l=l.slice(0,2)+"("+l.slice(2,5)+")"+l.slice(5)),N.setFieldValue("phone",l)},style:N.touched.phone&&N.errors.phone?{border:"1px solid red"}:{border:"1px solid #009C2C"}})]}),(0,v.jsxs)("label",{htmlFor:"email",children:["Email ",(0,v.jsx)("br",{}),(0,v.jsx)("input",{id:"email",type:"email",name:"email",placeholder:"Email",onBlur:N.handleBlur,value:N.values.email,onChange:T,style:N.touched.email&&N.errors.email?{border:"1px solid red"}:{border:"1px solid #009C2C"}})]})]}),(0,v.jsx)("textarea",{type:"text",name:"comments",placeholder:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0456 \u0434\u043e \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f",onBlur:N.handleBlur,value:N.values.comments,onChange:T,style:{width:"698px",height:"80px",borderRadius:"5px",fontSize:"15px",justifyContent:"center",border:"1px solid #009C2C",padding:"16px"}})]}),(0,v.jsxs)("label",{id:"city",children:["\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u043d\u0430\u0441\u0435\u043b\u0435\u043d\u0438\u0439 \u043f\u0443\u043d\u043a\u0442",(0,v.jsx)(j.Z,{required:!0,renderInput:function(e){return(0,v.jsx)(y.Z,(0,n.Z)({},e))},id:"city",options:C,name:"city",onBlur:N.handleBlur,onChange:T,sx:{width:"735px"}})]}),(0,v.jsxs)("label",{htmlFor:"viddill",children:["\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0441\u043f\u043e\u0441\u0456\u0431 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438",(0,v.jsx)(j.Z,{required:!0,renderInput:function(e){return(0,v.jsx)(y.Z,(0,n.Z)({},e))},id:"viddill",options:C,name:"viddill",sx:{width:"735px","& .MuiInput-underline":{borderColor:"1px solid #009C2C"}}})]}),(0,v.jsxs)("label",{htmlFor:"viddill",children:["\u0412\u0456\u0434\u0434\u0456\u043b\u0435\u043d\u043d\u044f \u041d\u043e\u0432\u043e\u0457 \u041f\u043e\u0448\u0442\u0438",(0,v.jsx)(j.Z,{required:!0,renderInput:function(e){return(0,v.jsx)(y.Z,(0,n.Z)({},e))},id:"viddill",options:C,name:"viddill",onBlur:N.handleBlur,onChange:T,sx:{width:"735px"}})]}),(0,v.jsxs)("label",{htmlFor:"oplata",children:["\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0441\u043f\u043e\u0441\u0456\u0431 \u043e\u043f\u043b\u0430\u0442\u0438",(0,v.jsx)(j.Z,{required:!0,renderInput:function(e){return(0,v.jsx)(y.Z,(0,n.Z)({},e))},id:"oplata",options:C,name:"oplata",onChange:function(e){N.setFieldValue("oplata","\u041f\u0456\u0441\u043b\u044f\u043e\u043f\u043b\u0430\u0442\u0430 \u041d\u043e\u0432\u0430 \u041f\u043e\u0448\u0442\u0430, \u0434\u043e \u043e\u043f\u043b\u0430\u0442\u0438")},sx:{width:"735px"}})]})]}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"formData--buy",children:[(0,v.jsx)("h3",{children:"\u0412\u0430\u0448\u0456 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,v.jsx)("div",{className:"block__listBuy",children:(0,v.jsxs)("ul",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[S?(0,v.jsx)(m.Z1,{height:"100",width:"100",color:"#4fa94d",wrapperStyle:{justifyContent:"center"},wrapperClass:"",visible:!0,ariaLabel:"three-circles-rotating",outerCircleColor:"",innerCircleColor:"",middleCircleColor:""}):_&&_.length>0&&_.map((function(l){return(0,v.jsxs)("li",{className:"block__listBuy--item",children:[(0,v.jsx)("button",{className:"busketDell",textarea:"\u0412\u0430\u0434\u0430\u043b\u0438\u0442\u0438 \u0437 \u043a\u043e\u0448\u0438\u043a\u0430",onClick:function(){return L.isLoggedIn?e((0,x.Qk)(l._id)):e((0,h.tX)(l.id))},children:(0,v.jsx)(g.GnT,{})}),(0,v.jsxs)(d.rU,{to:L.isLoggedIn?"/product/".concat(l.id):"/product/".concat(l._id),children:[" ",(0,v.jsx)("img",{className:"block__listBuy--img",src:l.img[0],alt:"img",width:"110px"})]}),(0,v.jsxs)("div",{style:{display:"flex"},children:[(0,v.jsx)("div",{children:(0,v.jsx)("p",{className:"block__listBuy--name",children:l.name})}),(0,v.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:"15px",marginLeft:"15px"},children:[(0,v.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,v.jsx)("span",{style:{color:"rgb(134, 134, 134)",lineHeight:"1.5"},children:"\u0426\u0456\u043d\u0430"}),(0,v.jsxs)("span",{style:{fontSize:"20px"},children:[l.price," \u0433\u0440\u043d/\u0448\u0442"]})]}),(0,v.jsxs)("div",{style:{display:"flex",flexDirection:"column",lineHeight:"1.5"},children:[(0,v.jsx)("span",{style:{color:"rgb(134, 134, 134)"},children:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c"}),(0,v.jsx)("label",{style:{border:"1px solid rgb(209, 209, 209)",borderRadius:"5px",textAlign:"center",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:"5px"},children:(0,v.jsx)("input",{type:"number",name:"weight",min:"1",max:"200",step:"1",onChange:function(i){return n=i.target.value,r=l._id,void(L.isLoggedIn?e((0,h._O)({id:r,counter:n,auth:!0})):e((0,h._O)({id:r,counter:n,auth:!1})));var n,r},value:l.count})})]}),(0,v.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,v.jsx)("span",{style:{color:"rgb(134, 134, 134)",lineHeight:"1.5"},children:"\u0421\u0443\u043c\u0430"}),(0,v.jsxs)("span",{style:{color:"red",fontSize:"20px"},children:[l.price*l.count," \u0433\u0440\u043d"]})]})]})]})]},l._id)})),(0,v.jsxs)("p",{style:{textAlign:"end",marginRight:"10px"},children:["\u0420\u0430\u0437\u043e\u043c \u0434\u043e \u043e\u043f\u043b\u0430\u0442\u0438: ",q.toFixed(2)," \u0433\u0440\u043d"]})]})}),(0,v.jsx)("button",{type:"submit",className:"modal__btn",style:{marginTop:"15px"},children:"\u041e\u0424\u041e\u0420\u041c\u0418\u0422\u0418 \u0417\u0410\u041c\u041e\u0412\u041b\u0415\u041d\u041d\u042f"})]}),L.isLoggedIn?"":(0,v.jsxs)("p",{style:{textAlign:"end",color:"red",fontWeight:900},children:["\u0414\u043b\u044f \u0432\u0456\u0434\u0441\u043b\u0456\u0434\u043a\u043e\u0432\u0443\u0432\u0430\u043d\u043d\u044f \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043a\u0438 \u0442\u043e\u0432\u0430\u0440\u0443 \u0430\u0431\u043e ",(0,v.jsx)("br",{})," \u0456\u043d\u0448\u0438\u0445 \u043c\u043e\u0436\u043b\u0438\u0432\u043e\u0441\u0442\u0435\u0439 \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430 \u043f\u0440\u043e\u0439\u0434\u0456\u0442\u044c \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0456\u044e \u043d\u0430 \u0441\u0430\u0439\u0442\u0456!"]})]})]}):(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("p",{style:{textAlign:"center",fontSize:"40px"},children:["\u0423 \u0432\u0430\u0448\u043e\u043c\u0443 \u043a\u043e\u0448\u0438\u043a\u0443 \u043d\u0435\u043c\u0430\u0454 \u0442\u043e\u0432\u0430\u0440\u0456\u0432, \u043f\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044c \u0434\u043e \u043d\u0430\u0448\u043e\u0433\u043e \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0443 \u0449\u043e\u0431 \u0437\u0434\u0456\u0439\u0441\u043d\u0438\u0442\u0438 \u043f\u043e\u043a\u0443\u043f\u043a\u0443 ",(0,v.jsx)("br",{}),(0,v.jsx)("br",{}),(0,v.jsx)(d.rU,{style:{textAlign:"center",fontSize:"40px",color:"red"},to:"/productBY",children:"\u0422\u0418\u041a!"})]})})})}}}]);
//# sourceMappingURL=213.ddb2a044.chunk.js.map